<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Discovery - BSA</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      height: 100vh;
    }
    .left-panel {
      width: 30%;
      background-color: #f0f4f8;
      padding: 20px;
      box-sizing: border-box;
      border-right: 1px solid #ccc;
    }
    .right-panel {
      width: 70%;
      padding: 20px;
      box-sizing: border-box;
      overflow-y: auto;
    }
    .deal-info p {
      margin: 5px 0;
    }
    .stage {
      border: 1px solid #ddd;
      border-radius: 8px;
      margin-bottom: 15px;
    }
    .stage-header {
      background-color: #e5e7eb;
      padding: 10px;
      cursor: pointer;
      font-weight: bold;
    }
    .stage-body {
      display: none;
      padding: 15px;
      background-color: #fff;
    }
    .field {
      margin-bottom: 12px;
    }
    .field label {
      display: block;
      margin-bottom: 5px;
      font-weight: 600;
    }
    .field textarea {
      width: 100%;
      height: 60px;
      padding: 8px;
      resize: vertical;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    .button {
      background-color: #10B981;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 10px;
    }
    .insight-box, .todo-box {
      margin-top: 10px;
      padding: 10px;
      background-color: #f9fafb;
      border: 1px dashed #ccc;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <div class="left-panel">
    <h2>Deal 정보</h2>
    <div class="deal-info">
      <p><strong>Deal 이름:</strong> Vault 도입 프로젝트</p>
      <p><strong>고객사:</strong> ABC은행</p>
      <p><strong>고객 담당자:</strong> 김보안 부장</p>
      <p><strong>솔루션:</strong> Vault Enterprise</p>
      <p><strong>현재 단계:</strong> 고려</p>
      <p><strong>자사 담당자:</strong> 이프리세일즈 차장</p>
    </div>
  </div>
  <div class="right-panel">
    <h2>Discovery 입력</h2>

    <div class="stage" id="stage-awareness">
      <div class="stage-header" onclick="toggleStage('awareness')">인식 단계</div>
      <div class="stage-body" id="awareness-body">
        <div class="field">
          <label>고객 행동</label>
          <textarea id="awareness-behavior"></textarea>
        </div>
        <div class="field">
          <label>고객 감정</label>
          <textarea id="awareness-emotion"></textarea>
        </div>
        <div class="field">
          <label>고객 접점</label>
          <textarea id="awareness-touchpoint"></textarea>
        </div>
        <div class="field">
          <label>고객 문제</label>
          <textarea id="awareness-pain"></textarea>
        </div>
        <button class="button" onclick="generateInsights('awareness')">Insight 생성</button>
        <div class="insight-box" id="awareness-jtbd">[고객의 JTBD]</div>
        <div class="todo-box" id="awareness-todo">[판매자 To-Do]</div>
      </div>
    </div>

    <!-- 고려, 평가, 구매 단계도 동일 구조로 복제해서 id만 바꾸면 됩니다 -->
  </div>

  <script>
    function toggleStage(stage) {
      const body = document.getElementById(`${stage}-body`);
      body.style.display = body.style.display === 'none' ? 'block' : 'none';
    }

    function generateInsights(stage) {
      const jtbd = `[${stage}] Gemini가 생성한 고객의 JTBD 예시입니다.`;
      const todo = `[${stage}] Gemini가 생성한 판매자 To-Do 예시입니다.`;
      document.getElementById(`${stage}-jtbd`).innerText = jtbd;
      document.getElementById(`${stage}-todo`).innerText = todo;
    }

    // 초기에 인식 단계만 열기
    window.onload = () => {
      document.getElementById('awareness-body').style.display = 'block';
    };
  </script>
</body>
</html>
